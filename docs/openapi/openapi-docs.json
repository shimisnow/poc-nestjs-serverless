{"components":{"schemas":{"LoginBodyDto":{"properties":{"password":{"description":"User password in plain text","example":"test@1234","type":"string"},"requestRefreshToken":{"default":false,"description":"If the response should include a refreshToken","example":true,"type":"boolean"},"username":{"description":"Username","example":"anderson","type":"string"}},"required":["username","password","requestRefreshToken"],"type":"object"},"LoginError400Serializer":{"properties":{"error":{"description":"HTTP error message","example":"Bad Request","type":"string"},"message":{"description":"","example":["username should not be empty"],"items":{"type":"string"},"type":"array"},"statusCode":{"description":"HTTP code","example":400,"type":"number"}},"required":["statusCode","message","error"],"type":"object"},"LoginError401DataSerializer":{"properties":{"errors":{"description":"List with one or more error messages","example":["jwt expired","maxAge exceeded","invalid signature","exp must be a number conforming to the specified constraints","wrong user or password information"],"items":{"type":"string"},"type":"array"},"expiredAt":{"description":"Available when the error is related to expired token","example":"2024-02-08T12:21:56.000Z","format":"date-time","type":"string"},"name":{"description":"Unique error name. Can be used to identify the error","enum":["EmptyJsonWebTokenError","JsonWebTokenError","JsonWebTokenPayloadStrutureError","TokenExpiredError","TokenInvalidatedByServer","UserPasswordError"],"type":"string"}},"required":["name"],"type":"object"},"LoginError401Serializer":{"properties":{"data":{"allOf":[{"$ref":"#/components/schemas/LoginError401DataSerializer"}],"description":"Information about the error"},"error":{"description":"HTTP error message","example":"Unauthorized","type":"string"},"statusCode":{"description":"HTTP status code","example":401,"type":"number"}},"required":["statusCode","error"],"type":"object"},"LoginError500Serializer":{"properties":{"error":{"description":"HTTP error message","example":"Internal Server Error","type":"string"},"message":{"description":"Additional error message","example":"Cannot set properties of undefined","type":"string"},"statusCode":{"description":"HTTP code","example":500,"type":"number"}},"required":["statusCode","message","error"],"type":"object"},"LoginError502Serializer":{"properties":{"error":{"description":"HTTP error message","example":"Bad Gateway","type":"string"},"statusCode":{"description":"HTTP code","example":502,"type":"number"}},"required":["statusCode","error"],"type":"object"},"LoginSerializer":{"properties":{"accessToken":{"description":"Access token to be used at the private endpoints","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFuZGVyc29uIiwic3ViIjoxLCJpYXQiOjE2ODM4MzAyNTEsImV4cCI6MTY4MzgzMDMxMX0.eN5Cv2tJ0HGlVNKMtPv5VPeCIA7dd4OEA-8Heh7OJ_c","type":"string"},"refreshToken":{"description":"Refresh token to be used to get new access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFuZGVyc29uIiwic3ViIjoxLCJpYXQiOjE2ODM4MzAyNTEsImV4cCI6MTY4MzgzMDMxMX0.eN5Cv2tJ0HGlVNKMtPv5VPeCIA7dd4OEA-8Heh7OJ_c","type":"string"}},"required":["accessToken"],"type":"object"},"LogoutSerializer":{"type":"object","properties":{"performed":{"type":"boolean","description":"Information if the logout process was performed","example":true},"performedAt":{"type":"number","description":"Number of milliseconds for this date since the epoch","example":1707755084516}},"required":["performed","performedAt"]},"LogoutError500Serializer":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP code","example":500},"message":{"type":"string","description":"Additional error message","example":"Cannot set properties of undefined"},"error":{"type":"string","description":"HTTP error message","example":"Internal Server Error"}},"required":["statusCode","message","error"]},"LogoutError502Serializer":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP code","example":502},"error":{"type":"string","description":"HTTP error message","example":"Bad Gateway"}},"required":["statusCode","error"]}},"securitySchemes":{"AccessToken":{"scheme":"bearer","bearerFormat":"JWT","description":"accessToken provided by the login endpoint","in":"header","type":"http"}}},"info":{"contact":{},"description":"Provides endpoints to handle user authentication, including login and logout","title":"Auth REST API","version":"1.0"},"openapi":"3.0.0","paths":{"/login":{"post":{"operationId":"LoginController_login","parameters":[{"description":"Sets the API version","in":"header","name":"X-Api-Version","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginBodyDto"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginSerializer"}}},"description":"JWT Access Token to use in future API calls"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginError400Serializer"}}},"description":"Error validating request input data"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginError401Serializer"}}},"description":"User does not exists, exists and is inactive or the password is wrong"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginError500Serializer"}}},"description":"The server has encountered a situation it does not know how to handle. See server logs for details"},"502":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginError502Serializer"}}},"description":"Internal data processing error. Probably a database error"}},"summary":"Uses username and password to get a JWT token to use in future API calls","tags":["auth"]}},"/logout":{"post":{"operationId":"LogoutController_logout","parameters":[{"name":"X-Api-Version","in":"header","description":"Sets the API version","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Information if the logout process was performed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutSerializer"}}}},"500":{"description":"The server has encountered a situation it does not know how to handle. See server logs for details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutError500Serializer"}}}},"502":{"description":"Internal data processing error. Probably a database error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutError502Serializer"}}}}},"security":[{"AccessToken":[]}],"summary":"Invalidates all tokens issued for a give login request","tags":["auth"]}}},"servers":[],"tags":[]}